"use strict";(self.webpackChunksds_archive_website=self.webpackChunksds_archive_website||[]).push([[12,114,921],{3114:function(e,t,a){a.r(t);var n=a(5900),l=a.n(n),o=a(257),s=a(9541),r=a(1312);const i=o.forwardRef(((e,t)=>{let{bsPrefix:a,variant:n,animation:o,size:i,as:c="div",className:u,...m}=e;a=(0,s.vE)(a,"spinner");const d=`${a}-${o}`;return(0,r.tZ)(c,{ref:t,...m,className:l()(u,d,i&&`${d}-${i}`,n&&`text-${n}`)})}));i.displayName="Spinner",t.default=i},8427:function(e,t,a){a.r(t);var n=a(257),l=a(8203),o=a(6594),s=a(5019);t.default=e=>{let{title:t="",content:a,onConfirm:r,onCancel:i,cancelButtonTitle:c=""}=e;const{t:u}=(0,s.$)();return n.createElement(l.Z,{dialogClassName:"alert-modal",show:!0,centered:!0,onHide:i},n.createElement("div",{className:"alert-modal-container"},t&&n.createElement("div",{className:"alert-modal-title"}," ",t," "),a&&n.createElement("div",{className:"alert-modal-content"}," ",a," "),null!=r?n.createElement("div",{style:{display:"flex",gap:10}},n.createElement(o.Z,{className:"alert-modal-back-button",onClick:i}," ",u("Back")," "),n.createElement(o.Z,{className:"alert-modal-confirm-button",onClick:r}," ",u("Yes")," ")):n.createElement(o.Z,{className:"alert-modal-back-button",onClick:i}," ",c||u("Back")," ")))}},395:function(e,t,a){var n=a(257),l=a(3932);t.Z=e=>{let{placeHolder:t,type:a,value:o,onChange:s,errorText:r,containerClass:i="",inputClass:c="",feedbackClass:u="",maxLength:m,...d}=e;return n.createElement("div",{className:`form-field-container ${i}`},n.createElement(l.Z.Control,Object.assign({onChange:e=>{s(e.target.value)},value:o,className:`form-field-input ${c}`,type:a,isInvalid:!!r,placeholder:t},d)),n.createElement(l.Z.Control.Feedback,{className:`form-field-feedback ${u}`,type:"invalid"}," ",r," "))}},1220:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var n=a(257),l=a(5019),o=a(8203),s=a(3932),r=a(6594),i=a(3114),c=a(3586),u=a(4329),m=a(4627),d=a(8427),p=a(7018),g=a(8304),f=a(395);var h=e=>{let{show:t,onCancel:a,onFinish:c,isDemo:p=!1,needCompanyWebsite:h=!0,defaultFullName:E="",defaultCompanyName:v="",data:C,showPolicy:b}=e;const{t:N}=(0,l.$)(),[_,y]=n.useState(E),[S,w]=n.useState(v),[U,M]=n.useState(""),[k,Z]=n.useState(""),[T,L]=n.useState(null),[x,P]=n.useState(null),[$,I]=n.useState(null),[F,H]=n.useState(null),[A,B]=n.useState(null),[W,R]=n.useState(!1);return T||n.createElement(o.Z,{centered:!0,show:t,onHide:a,backdrop:"static"},n.createElement(o.Z.Header,{className:"signup-modal-success-header trung",closeButton:!0}),n.createElement("div",{className:"signup-modal-container"},p?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"signup-modal-title"},N("signUpModal.SetupYourAccount")),n.createElement("div",{className:"signup-modal-sub-title"},N("signUpModal.FillInYourProfileDetails"))),n.createElement(s.Z,{onSubmit:e=>{e.preventDefault();const t=(0,m.gK)(_),l=(0,m.gK)(S),o=(0,m.gK)(U);if(0===t.length)return void P(N("signUpModal.FullNameCannotBeEmpty"));if(P(null),0===o.length)return void I(N("signUpModal.PhoneNumberCanNotBeEmpty"));if(o.length>1&&isNaN(Number(o)))return void I(N("signUpModal.PhoneNumberIsInvalid"));if(I(null),0===l.length)return void H(N("signUpModal.CompanyNameCannotBeEmpty"));if(H(null),h){if(0===(0,m.gK)(k).length)return void B(N("signUpModal.CompanyWebsiteCannotBeEmpty"));if(-1===k.indexOf("."))return void B(N("signUpModal.CompanyWebsiteIsInvalid"));B(null)}R(!0);const s=_.split(" "),r=s[0];s.splice(0,1);let i="-";if(s.length>0&&(i=s.join(" ")),!C)return void L(n.createElement(d.default,{title:"Something Wrong!",onCancel:()=>L(null)}));let p=g.CZ;p+=`api/user/${C.userId}/`;let f={first_name:(0,m.gK)(r),last_name:(0,m.gK)(i),company:l,phone_number:o};h&&(f.company_website=k),(0,u.h)(p,"PATCH",f,null,C.accessToken).then((e=>{R(!1),c(_)})).catch((e=>{R(!1);let t="";if(401===(null==e?void 0:e.status))return t="Oops, you haven't responded for a while. Please check your email to login and update more information if needed.",void L(n.createElement(d.default,{title:"Timeout",content:t,onCancel:()=>{L(null),a()},cancelButtonTitle:N("Close")}));t||void 0===e.error_message?"string"==typeof e&&(t=e):t=e.error_message.errors.join(", "),L(n.createElement(d.default,{content:t,onCancel:()=>L(null)}))}))}},n.createElement(s.Z.Label,{className:"signup-modal-label"}," ",N("signUpModal.FullName"),"*"," "),n.createElement(f.Z,{placeHolder:N("signUpModal.EnterYourFullName"),type:"text",value:_,onChange:e=>{y(e)},errorText:x,inputClass:"signup-modal-input",containerClass:"signup-modal-input-container",maxLength:100}),n.createElement(s.Z.Label,{className:"signup-modal-label"}," ",N("signUpModal.PhoneNumber"),"*"," "),n.createElement(f.Z,{placeHolder:N("signUpModal.EnterYourPhoneNumber"),type:"text",value:U,onChange:e=>{M(e)},errorText:$,inputClass:"signup-modal-input",containerClass:"signup-modal-input-container",maxLength:50}),n.createElement(s.Z.Label,{className:"signup-modal-label"}," ",N("signUpModal.CompanyName"),"*"," "),n.createElement(f.Z,{placeHolder:N("signUpModal.EnterYourCompanyName"),type:"text",value:S,onChange:e=>{w(e)},errorText:F,inputClass:"signup-modal-input",containerClass:"signup-modal-input-container",maxLength:100}),h?n.createElement(n.Fragment,null,n.createElement(s.Z.Label,{className:"signup-modal-label"}," ",N("signUpModal.CompanyWebsite")," "),n.createElement(f.Z,{placeHolder:N("signUpModal.EnterYourCompanyWebsite"),type:"text",value:k,onChange:e=>{Z(e)},errorText:A,inputClass:"signup-modal-input",containerClass:"signup-modal-input-container",maxLength:100})):null,b&&n.createElement("div",{className:"signup-modal-input-container signup-modal-input signup-modal-agreement",style:{marginTop:10},dangerouslySetInnerHTML:{__html:N("signUpModal.BySigningUpYouAgreeTo")}}),n.createElement(r.Z,{type:"submit",className:"signup-modal-continue-button"},N("signUpModal.NextStep"),W?n.createElement(i.default,{style:{width:16,height:16,marginLeft:10},animation:"border"}):null))))};var E=e=>{let{show:t,onCancel:a,onFinish:s,data:c}=e;const{t:m}=(0,l.$)(),[p,f]=n.useState(null),[h,E]=n.useState(null),[v,C]=n.useState(!1),b=[{label:m("pricingV2.i_do_not_know"),value:0},{label:"1-50",value:50},{label:"51-100",value:100},{label:"101-200",value:200},{label:"201 - 400",value:400},{label:"401 - 1,000",value:1e3},{label:"1,001 - 2,000",value:2e3},{label:"2,001 - 4,000",value:4e3},{label:"4,001 or more",value:4001}];return p||n.createElement(o.Z,{centered:!0,show:t,onHide:a,backdrop:"static"},n.createElement(o.Z.Header,{className:"signup-modal-success-header",closeButton:!0}),n.createElement("div",{className:"signup-modal-container"},n.createElement("div",{className:"signup-modal-title"},m("signUpModal.LetsPersonalizeYour")),n.createElement("div",{className:"signup-modal-sub-title"},m("signUpModal.ApproximatelyHowMany")),n.createElement("div",{className:"signup-modal-sds-range"},b.map(((e,t)=>n.createElement("div",{key:t,className:"sds-range "+(h==e.value?"selected-sds-range":""),onClick:()=>E(e.value)},e.label)))),n.createElement(r.Z,{className:"signup-modal-continue-button",onClick:()=>{(()=>{if(null===h)return void f(n.createElement(d.default,{content:m("pricingV2.please_choose_option"),onCancel:()=>f(null)}));if(!c)return void f(n.createElement(d.default,{title:"Something Wrong!",onCancel:()=>f(null)}));C(!0);let e=g.CZ;e+=`api/user/${c.userId}/`;let t={sds_range:h,last_step:!0};(0,u.h)(e,"PATCH",t,null,c.accessToken).then((e=>{C(!1),s()})).catch((e=>{C(!1);let t="";t||void 0===e.error_message||(t=e.error_message.errors.join(", ")),f(n.createElement(d.default,{title:t,onCancel:()=>f(null)}))}))})()}},m("signUpModal.NextStep"),v?n.createElement(i.default,{style:{width:16,height:16,marginLeft:10},animation:"border"}):null)))};var v=e=>{let{show:t,onCancel:a,onFinish:c,data:p,fullName:h=""}=e;const{t:E}=(0,l.$)(),[v,C]=n.useState(null),[b,N]=n.useState(""),[_,y]=n.useState(null),[S,w]=n.useState(!1);return v||n.createElement(o.Z,{centered:!0,show:t,onHide:a,backdrop:"static"},n.createElement(o.Z.Header,{className:"signup-modal-success-header trung",closeButton:!0}),n.createElement("div",{className:"signup-modal-container"},n.createElement("div",{className:"signup-modal-title"},E("signUpModal.LastlyTest",{userName:h})),n.createElement("div",{className:"signup-modal-sub-title"},E("signUpModal.SoYouCanGetInto")),n.createElement(s.Z,{onSubmit:e=>{if(e.preventDefault(),!b)return void y(E("signUpModal.PasswordCanNotBeEmpty"));const t=(0,m.gK)(b);if(!(0,m.uo)(t))return void y("Password need to contain at least 10 characters");if(y(null),!p)return void C(n.createElement(d.default,{title:"Something Wrong!",onCancel:()=>C(null)}));w(!0);let a=g.CZ+"api/auth/set-password/",l={token:p.setPasswordToken,userId:p.userId,password:t};(0,u.h)(a,"post",l).then((e=>{w(!1),c()})).catch((e=>{w(!1);let t="";t||void 0===e.error_message||(t=e.error_message.errors.join(", ")),C(n.createElement(d.default,{title:t,onCancel:()=>C(null)}))}))}},n.createElement(s.Z.Label,{className:"signup-modal-label"}," ",E("signUpModal.Password")," "),n.createElement(f.Z,{placeHolder:E("signUpModal.EnterYourPassword"),type:"password",value:b,onChange:e=>{N(e)},errorText:_,inputClass:"signup-modal-input",containerClass:"signup-modal-input-container",maxLength:100}),n.createElement("div",{className:"signup-modal-input-container signup-modal-input signup-modal-agreement",style:{marginTop:10},dangerouslySetInnerHTML:{__html:E("signUpModal.BySigningUpYouAgreeTo")}}),n.createElement(r.Z,{type:"submit",className:"signup-modal-continue-button"},E("signUpModal.TakeMeToMyAccount"),S?n.createElement(i.default,{style:{width:16,height:16,marginLeft:10},animation:"border"}):null))))},C=a(4070),b=a.n(C);var N=e=>{let{plan:t,show:a,onCancel:C,email:N=null,custom_type:_=g.BV.WELCOME_NEW_USER,sds_count:y,service:S,redirect_url:w,pageRef:U,needCompanyWebsite:M=!0,isDemo:k=!1,substanceId:Z,onSuccess:T,onError:L,isTrialPeriodProp:x=!0}=e;const{t:P}=(0,l.$)(),{country:$}=(0,p.l)(),[I,F]=n.useState(""),[H,A]=n.useState(""),[B,W]=n.useState(""),[R,D]=n.useState(""),[K,Y]=n.useState(y),[O,j]=n.useState(!1),[G,z]=n.useState(null),[V,q]=n.useState(!1),[J,Q]=n.useState(!1),[X,ee]=n.useState(!1),[te,ae]=n.useState(c.ZP.language),[ne,le]=n.useState(null),[oe,se]=n.useState(t||null),[re,ie]=n.useState(S||null),[ce,ue]=n.useState(_||null),[me,de]=n.useState(null),[pe,ge]=n.useState(!1),[fe,he]=n.useState(x);n.useEffect((()=>{if("undefined"==typeof window)return;if(N){F(N);const e=ve(N);return void Ce({...e,email:N},T,L)}const e=new URLSearchParams(window.location.search),t=e.get("email"),a=e.get("name"),n=e.get("language"),l=e.get("subscription_plan"),o=e.get("service"),s=e.get("custom_type"),r=e.get("sds_count"),i=e.get("method"),c="true"===e.get("is_trial_period"),u={};for(let[m,d]of e.entries())"email"!==m&&"name"!==m&&"language"!==m&&"subscription_plan"!==m&&"service"!==m&&"custom_type"!==m&&"ref"!==m&&"popup"!==m&&(u[m]=d);if(a&&A(a),c&&he(c),n&&ae(n),l&&se(l),o&&ie(o),s&&ue(s),r&&Y(parseInt(r)),i&&"google-signup"===i&&(q(!0),(0,m.CR)("fp9RCPeS9KkDEOyx5uED")),t){F(t);const e=ve(t);(0,m.Th)()||(0,m.yF)()?Ce({...e,fullName:a||e.fullName,email:t,otherParams:u}):fetch(g.xz,{mode:"cors"}).then((function(n){const l=n.headers.get("x-country-code");l&&(window.localStorage.setItem("x-country-code",(0,m.gK)(l.toLowerCase())),Ce({...e,fullName:a||e.fullName,email:t,otherParams:u}))})).catch((()=>{}))}}),[]);const Ee=()=>{F(""),A(""),W(""),D(""),j(!1),C&&C()},ve=e=>{let t=I;e&&(t=e);let a=t.split("@")[0];return a.length>0&&(a=a[0].toUpperCase()+a.slice(1)),{fullName:a,companyName:""}},Ce=function(e,t,a){if(void 0===t&&(t=e=>{}),void 0===a&&(a=e=>{}),!oe)return void le(n.createElement(d.default,{title:P("Error"),content:P("signUpModal.FormIsInvalid"),onCancel:()=>le(null)}));ge(!0);const l=be(e);(0,u.h)(g.RE,"post",l).then((a=>{var n;if("sds_inventory"===re){let e=1;switch(g.Uq[oe]){case 2:e=500;break;case 4:e=1e3;break;case 6:e=1500}(0,m.CR)("fp9RCPeS9KkDEOyx5uED")}const l={accessToken:a.access_token,refreshToken:a.refresh_token,setPasswordToken:a.set_password_token,userId:a.id,defaultLocation:null===(n=a.inventory_manager_settings)||void 0===n?void 0:n.default_location};Ne(l,e),t(l)})).catch((e=>{var t;ge(!1);let o="";if(o||void 0===(null===(t=e.error_message)||void 0===t?void 0:t.errors)||(o=e.error_message.errors.join(", ")),"AUTHENTICATION_SIGNUP_EMAIL_ADDRESS_HAS_ALREADY"===e.error_code)return o=P("value_already_exist",{value:l.email}),void le(n.createElement(d.default,{title:P("Error"),content:o,onConfirm:()=>{window.location.href=`${g.rB}/login?lang=${te}&email=${I}`},onCancel:()=>{le(null),N&&a("")}}));N?a(o):(o||"string"!=typeof e||(o=e),le(n.createElement(d.default,{title:P("Error"),content:o,onCancel:()=>le(null)})))}))},be=e=>{const t=(0,m.gK)(e.companyName),a=(0,m.gK)(e.fullName).split(" ")[0],l=(0,m.IF)(b());let o=I;N&&(o=N),e.email&&(o=e.email);let s={email:o.toLowerCase(),first_name:(0,m.gK)(a),last_name:"-",service:re,company:t,country:(0,m.Th)("no"),default_language:te,subscription_plan:g.Uq[oe],company_website:M?R:"",phone_number:null,password:null,ref:"signup_form__"+oe,is_trial_period:fe,origination_referral:l.origination_type,origination_source:l.origination_source};if(e.otherParams&&Object.entries(e.otherParams).map((e=>{let[t,a]=e;s[t]=a})),ce&&(s.custom_type=ce),K&&(s.sds_count=K),"search-save-online"===U&&(s.default_sds_id=Z,!Z)){const e=new URLSearchParams(window.location.search).get("substance_id");if(!e)return void le(n.createElement(d.default,{title:P("Error"),content:"No substance",onCancel:()=>le(null)}));s.default_sds_id=e}return s},Ne=(e,t)=>{ge(!1),A(t.fullName),W(t.companyName),j(!0),z(e)},_e=()=>{if(!G)return void le(n.createElement(d.default,{title:"Something Wrong!",onCancel:()=>le(null)}));let e=U;if(!e){e=new URLSearchParams(window.location.search).get("ref")}e?window.location.href="search-save-online"!==e?`${g.rB}/?token=${G.refreshToken}`:`${g.rB}/location-management/?token=${G.refreshToken}`:le(n.createElement(d.default,{title:"Something Wrong!",onCancel:()=>le(null)}))};return X&&!V?n.createElement(n.Fragment,null,n.createElement(v,{show:a,onCancel:Ee,onFinish:()=>{_e()},data:G,fullName:H}),ne):J?n.createElement(E,{show:a,onCancel:Ee,onFinish:()=>{V?_e():ee(!0)},data:G}):G||O?n.createElement(h,{show:a,onCancel:Ee,isDemo:k,needCompanyWebsite:M,defaultFullName:H,defaultCompanyName:B,onFinish:e=>{K&&K>100&&(ee(!0),V&&_e()),Q(!0),A(e)},data:G,showPolicy:!!N}):n.createElement(n.Fragment,null,n.createElement(o.Z,{centered:!0,show:a,onHide:Ee,backdrop:"static"},n.createElement(o.Z.Header,{className:"signup-modal-success-header trung",closeButton:!0}),n.createElement("div",{className:"signup-modal-container"},"search-save-online"===U?n.createElement(n.Fragment,null,n.createElement("img",{className:"search-box-result-table-icon",src:"/icons/CloudUpload.png",alt:"Pdf Icon of Search Page"}),n.createElement("div",{className:"signup-modal-title"},P("signUpModal.RegistrationIsNeeded")),n.createElement("div",{className:"signup-modal-sub-title"},P("signUpModal.LetsGetStarted"))):n.createElement(n.Fragment,null,n.createElement("div",{className:"signup-modal-title"},P("signUpModal.CreateAccount")),n.createElement("div",{className:"signup-modal-sub-title"},P("signUpModal.LetGetStartedWithAFew"))),n.createElement(s.Z,{onSubmit:e=>{if(e.preventDefault(),0==(0,m.gK)(I).length)return void de(P("EmailCanNotBeEmpty"));if(!(0,m.oH)(I))return void de(P("EmailIsInvalid"));de(null);const t=ve();Ce(t)}},n.createElement(s.Z.Label,{className:"signup-modal-label"}," ",P("signUpModal.EnterEmail"),"*"," "),n.createElement(f.Z,{placeHolder:P("signUpModal.name@company.com"),type:"text",value:I,onChange:e=>{F(e)},errorText:me,inputClass:"signup-modal-input",containerClass:"signup-modal-input-container",maxLength:100}),pe?n.createElement(r.Z,{disabled:!0,type:"submit",className:"signup-modal-continue-button"},P("search-save-online"===U?"signUpModal.StartFreeTrial":"signUpModal.CreateAccount"),n.createElement(i.default,{style:{width:16,height:16,marginLeft:10},animation:"border"})):n.createElement(r.Z,{type:"submit",className:"signup-modal-continue-button"},P("search-save-online"===U?"signUpModal.StartFreeTrial":"signUpModal.CreateAccount"))),n.createElement("div",{className:"signup-modal-or"}," ",P("signUpModal.Or")," "),n.createElement("a",{href:(()=>{let e="";if((0,m.tm)(w)){const t="en"===c.ZP.language?"":"/no";e+=`${g.xz+t}${w}%3F`}else e+=`${g.xz}/${$}${w}%3F`;const a=new URLSearchParams(window.location.search);let n="";for(let[t,o]of a.entries())n=n+t+"="+o+"%26";"search-save-online"===U&&(n+=`substance_id=${Z}%26`),e+=n,e+="popup=setup-account";const l={method:"google-signup",subscription_plan:t,sds_count:y,service:S,custom_type:_,ref:U,is_trial_period:fe};for(const t in l)void 0!==l[t]&&(e=e+"%26"+t+"="+l[t]);return`${g.Up}?redirect_url=${e}`})(),className:"signup-modal-google-button",title:"Sign up with google"},n.createElement("img",{src:"/icons/GoogleLogo.png",alt:"Google Logo Icon"}),P("signUpModal.ContinueWithGoogle")),n.createElement("div",{className:"signup-modal-footer"},n.createElement("div",null," ",P("signUpModal.AlreadyHaveAnAccount")," "),n.createElement("a",{href:`${g.rB}/login/?lang=${te}`,title:"Login"}," ",P("signUpModal.LogIn")," ")),n.createElement("div",{className:"signup-modal-input-container signup-modal-input signup-modal-agreement",style:{marginTop:10},dangerouslySetInnerHTML:{__html:P("signUpModal.BySigningUpYouAgreeTo")}}))),ne)}}}]);
//# sourceMappingURL=169f35cc043736cbdacd5a96484b746822a54309-9878bba92e8476b0e283.js.map